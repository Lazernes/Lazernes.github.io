---
title: "21장 보안과 권한관리"
excerpt: "DBMS에 저장된 데이터는 조직의 비지니스의 주요 관심사이며 기업자산으로 여겨진다. DBMS의 접근제어와 보안과 관련된 개념들을 논의한다."

wirter: Myeongwoo Yoon
categories:
  - Introduction To Database
tags:
  - Programing

use_math: true
toc: true
toc_sticky: true
 
date: 2023-12-06
last_modified_at: 2023-12-06
---

데이터베이스 보안 소개
======
　안전한 데이터베이스 응용을 설계할 때 세 가지 주요 목표가 있다.
* 보안성(secrecy): 권한이 없는 사용자에게 정보가 노출되어서는 안된다.
  - 예를 들어, 한 학생이 다른 학생의 성적을 볼 수 없어야만 한다.
* 무결성(integrity): 권한이 있는 사용자만이 데이터를 수정할 수 있어야 한다.
  - 예를 들어, 학생들이 자기 성적으로 조회할 수는 있지만, 수정할 수는 없어야 한다.
* 가용성(availability): 권한이 있는 사용자의 접근이 거부되어서는 안 된다.
  - 예를 들어, 교수가 성적을 바꾸고자 하는 경우 바꿀 수 있어야 한다.

　이러한 목표를 달성하기 위해서는, 명확하고 일관성이 있는 **보안 정책(security policy)**을 수립해서 어떤 보안 조치를 취할지를 반드시 기술해야만 한다. 특히 데이터의 어떤 부분을 보호하고 또 어떤 사용자가 데이터의 어떤 부분을 접근할 수 있는지를 결정해야 한다. 다음으로, 건물에 대한 접근 보안 등의 외부 메카니즘뿐만 아니라 사용하고 있는 DBMS와 운영체제등의 **보안 메카니즘(security mechanism)**을 활용해서 보안 정책을 보장해야 한다. 여기에서 중요한 점은 여러 레벨에서 보안 조치를 강구해야 한다는 것이다.<br/>
　뷰는

접근 제어
======
　한 기업의 데이터베이스에는 엄청난 양의 정보와 여러 사용자 그룹들을 포함하고 있다. 대부분의 사용자들은 자신의 업무를 수행하기 위해 데이터베이스의 극히 일부분만 접근하면 된다. 사용자들에게 모든 데이터에 대한 무제한적인 접근을 허용하는 것은 바람직하지 않으며, 따라서 DBMS는 데이터에 대한 접근을 제어하는 메카니즘을 제공해야만 한다.<br/>
　DBMS는 크게 두 가지의 접근 제어 방식을 제공한다.
* **임의적 접근제어(discretionary access control)**: 접근 권한(access right), 또는 **권한(privileges)** 개념과 사용자에게 권한을 부여하는 메카니즘에 기반하고 있다.
  - 권한은 사용자에게 어떤 데이터 객체를 특정 방법(예를 들어, 읽기 또는 쓰기)으로 접근하도록 허락하는 것이다.
  - 테이블 또는 뷰와 같은 데이터베이스 객체를 생성한 사용자는 자동적으로 해당 객체에 관한 모든 권한을 얻게 된다.
  - 이 후에, DBMS는 이들 권한들이 어떤 사용자들에게 허가(grant)되었고 또 취소(revoke)되었는지를 계속 추적해서, 항상 필요한 권한을 가진 사용자들만 객체를 접근할 수 있도록 보장한다.
  - SQL은 GRANT와 REVOKE명령을 통해 임의적 접근제어를 지원한다.
    + GRANT명령은 사용자들에게 권한을 부여하고, REVOKE 명령은 권한을 회수한다.
  - 임의적 접근제어 메카니즘은 일반적으로 효과적이기는 하나 몇 가지 약점을 가지고 있다. 특히, 권한이 없는 불순한 사용자가 권한이 있는 사용자로 하여금 민감한 데이터를 유출시키도록 속일 수 있다.
* **강제적 접근제어(mandatory access control)**: 사용자가 개개인별로 변경할 수 없는 시스템 전반의 정책에 기반한다.
  - 이 방식에서는 모든 데이터베이스 객체에게 보안등급(security class)을 부여하고 사용자들마다 허가등급(clearance)을 부여해서, 사용자에 의한 데이터베이스의 읽기와 쓰기에 규칙을 적용한다.
  - DBMS는 어떤 사용자가 어떤 객체를 읽거나 쓸 수 있는지의 여부를 지정하며 사용자가 데이터베이스 객체를 판독하거나 기록하는 것에 대해 몇 가지 규칙들을 만들어 놓는다.
  - DBMS는 객체의 보안등급과 사용자의 허가 등급과 관련한 몇 가지 규칙들에 기반해서 그 사용자가 그 객체를 판독하거나 기록할 수 있는가를 결정한다.
  - 이런 규칙들은 필요한 허가등급을 갖지 못한 사용자에게 민감한 데이터가 절대로 전달되지 않는 것을 보장하도록 한다.
  - SQL 표준은 강제적 접근제어에 대한 지원을 하고 있지 않다.

임의적 접근제어
======
　SQL은 GRANT와 REVOKE 명령을 통해 임의적 접근제어를 지원한다. GRANT 명령은 사용자들에게 기본 테이블(base table)이나 뷰에 대한 권한을 부여한다. 이 명령의 구문은 다음과 같다.
```sql
GRANT privileges ON object To users [WITH GRANT OPION]
```

　여기서 **객체(object)**는 기본 테이블이나 뷰만 고려한다. SQL은 다른 종류의 객체들도 인식 하지만 여기에서는 논하지 않는다. 다음 권한들을 포함한 다양한 권한들을 명세할 수 있다.
* SELECT: '**object**'로 명시된 테이블의 모든 필드들을 접근(읽기)할 수 있는 권한인데, 추후에 ALTER TABLE 명령을 통해 추가된 필드도 포함한다.
* INSERT(column-name): '**object**'라는 테이블의 지정된 column에서 (널이 아니거나 기본값도 아닌) 값을 갖는 투플들을 삽입할 수 있는 권한이다.
  - 나중에 추가되는 필드들을 포함하여 모든 필드들에 대해 이 권한을 허가하려면 단순히 INSERT를 사용하면 된다.
  - UPDATE(column-name) 및 UPDATE도 이와 비슷하다.
* DELETE: '**object**'라는 테이블로부터 투플들을 삭제할 수 있는 권한이다.
* REFERENCES(column-name): '**object**' 라는 테이블의 명세된 column을 참조하는 외래키를 (다른 테이블에서) 정의할 수 있는 권한이다.
  - 단순히 REFERENCES라고 표기하면 나중에 추가되는 column을 포함한 모든 column들에 대해 이 권한을 부여한다.

　특정 사용자가 **허가옵션(grant option)**을 포함한 권한을 가지면 그는 똑같은 권한을 GRANT 명령을 사용해서 다른 사람들에게 전달해 줄 수 있다. (이때 허가옵션을 포함할 수도 안할 수도 있다.)<br/>
　오직 스키마의 소유주만 데이터 정의문 CREATE, ALTERR, DROP 문장을 실행할 수 있다. 이러한 문장들을 실행시킬 수 있는 권한은 허가할 수도 없고 회수할 수도 없다.
　GRANT 및 REVOKE 명령과 결합해서, 뷰는 관계 DBMS가 제공하는 보안 메카니즘의 중요한 요소이다. 기본 테이불에 대해 뷰를 정의함으로써 사용자들이 접근해서는 안 되는 정보들은 감추고 필요한 정보만 보여줄 수 있다. 예를 들어, 다음의 뷰 정의를 고려해본다.
```sql
CREATE VIEW ActiveSailors (name, age, day)
       AS SELECT S.sname, S.age, R.day
          FROM Sailors S, Reserves R
          WHERE S.sid = R.sid AND S.rating > 6
```

　ActiveSailors는 접근할 수 있지만 Sailors나 Reserves 릴레이션을 접근할 수 없는 사용자는 예약을 한 선언의 이름은 알지만, 특정 선원의 예약한 배의 bid는 알 수가 없다.