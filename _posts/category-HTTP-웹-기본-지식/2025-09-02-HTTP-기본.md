---
title: "HTTP 기본"
excerpt: "HTTP 기본"

wirter: Myeongwoo Yoon
categories:
  - HTTP 웹 기본 지식
tags:
  - HTTP

toc: true
toc_sticky: true
 
date: 2025-09-02
last_modified_at: 2025-09-02
---

모든 것이 HTTP
======

&ensp;지금은 **HTTP(HyperTextTransferProtocol)** 메시지에 모든 것을 전송한다. HTTP는 거의 모든 형태의 데이터가 전송 가능하고 서버간에 데이터를 주고 받을 때도 대부분 HTTP를 사용하기 때문이다.<br/>
&ensp;HTTP의 특징은 다음과 같다.
* 클라이언트 서버 구조
* 무상태 프로토콜(Stateless), 비연결성
* HTTP 메시지
* 단순함, 확장 가능

클라이언트 서버 구조
======

<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/2-1-클라이언트 서버 구조.png" width="600"></p>

Stateful, Stateless
======

&ensp;무상태 프로토콜(Stateless)의 특징은 다음과 같다.
* 서버가 클라이언트의 상태를 보존하지 않음
* 장점: 서버 확장성이 높음(스케일 아웃)
* 단점: 클라이언트가 추가 데이터 전송

&ensp;Stateful과 Stateless의 차이는 다음과 같다.
* **상태 유지**
* **무상태**
  - 무상태는 응답 서버를 쉽게 바꿀 수 있어 **무한한 서버 증설이 가능**

&ensp;따라서 Stateless 특징은 다음과 같이 그림으로 설명할 수 있다.<br/>
<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/3-1-아무 서버나 호출 가능.png" width="600"></p>

<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/3-2-서버 장애.png" width="600"></p>

<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/3-3-스케일 아웃.png" width="600"></p>

&ensp;하지만 모든 것을 무상태로 설계할 수 없는 경우도 있다. 로그인이 필요 없는 단순한 서비스 소개 화면에서는 무상태로 설계할 수 있지만, 로그인처럼 상태 유지가 필요한 화면에서는 사용자가 로그인 했다는 상태를 서버에 유지해야 한다. 일반적으로 브라우저 쿠키와 서버 세션등을 사용해서 상태를 유지하지만, 상태 유지는 최소한만으로 사용하는 것이 좋다.

비 연결성(connectionless)
======

<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/4-1-연결을 유지하는 모델.png" width="600"></p>

* 연결을 유지하는 모델에서는 서버 자원을 계속 소모해야 한다.

<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/4-2-연결을 유지하지 않는 모델1.png" width="600"></p>

<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/4-3-연결을 유지하지 않는 모델2.png" width="600"></p>

* 연결을 유지하지 않는 모델은 최소한의 자원을 사용하면 된다.

&ensp;HTTP는 기본이 연결을 유지하지 않는 모델이다. 이는 서버 자원을 매우 효율적으로 사용할 수 있다. 하지만 이는 TCP/IP 연결을 새로 맺어야 하기 때문에 3 way handshake 시간이 추가되고, 웹 브라우저로 사이트를 요청하면 HTML 뿐만 아니라 자바스크립트, css, 추가 이미지 등 수 많은 자원이 함께 다운로드 되는 한계가 생긴다. 그래서 지금은 **HTTP 지속 연결(Persistent Connections)**로 문제를 해결하고, HTTP/2, HTTP/3에서 더 많은 최적화했다.

HTTP 메시지
======

&ensp;HTTP요청 메시지와 응답 메시지의 예와 HTTP 메시지 구조는 다음과 같다.<br/>
<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/5-1-HTTP 메시지.png" width="600"></p>

&ensp;HTTP-message의 공식 스펙은 다음과 같다.
```
HTTP-message = start-line
               *( header-field CRLF)
               CRLF
               [ message-body ]
```

시작 라인
------

&ensp;시작 라인은 **request-line**과 statue-line으로 되어 있다. 요청 메시지는 request-line 이라고 하고 **method SP(공백) request-target SP HTTP-version CRLF(엔터)**로 구성되어 있다.<br/>
<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/5-2-요청 메시지.png" width="600"></p>

* HTTP 메서드
  - GET, POST, PUT, DELETE 등
  - 서버가 수행해야 할 동작 지정
* 요청 대상
  - absolute-path[\?query] (절대경로[\?쿼리])
  - 절대경로 = "/"로 시작하는 경로
* HTTP Version

&ensp;status-line은 **HTTP-version SP status-code SP reason-phrase CRLF**로 구성되어 있다.<br/>
<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/5-3-status line.png" width="600"></p>

* HTTP 버전
* HTTP 상태 코드: 요청 성공, 실패를 나타냄
  - 200: 성공
  - 400: 클라이언트 요청 오류
  - 500: 서버 내부 오류
* 이유 문구: 사람이 이해할 수 있는 짧은 상태 코드 설명 글

HTTP 헤더
------

&ensp;header-field는 **field-name ":" OWS field-value OWS(띄어쓰기 허용)**로 이루어져 있다. 이때 field-name은 대소문자 구분이 없다.<br/>
<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/5-4-header field.png" width="600"></p>

&ensp;header field의 용도는 다음과 같다.
* HTTP 전송에 필요한 모든 부가 정보가 들어 있음
* 표준 헤더가 너무 많음
* 필요시 임의의 헤더 추가 가능

HTTP 메시지 바디
------

<p align="center"><img src="/assets/img/HTTP 웹 기본 지식/HTTP 기본/5-5-message body.png" width="600"></p>

&ensp;message-body의 용도는 다음과 같다.
* 실제 전송할 데이터
* HTML, 이미지, 영상, JSON 등 byte로 표현할 수 있는 모든 데이터가 전송 가능